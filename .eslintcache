[{"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\index.js":"1","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\App.js":"2","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\reportWebVitals.js":"3","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\axios-data.js":"4","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\Keyboard.js":"5","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\constant\\color.js":"6","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\layout\\Layout.js":"7","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\SerialPortBtn\\SerialPortBtn.js":"8","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\Modifier\\Modifier.js":"9","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\LedSections\\LedSections.js":"10","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\LedSections\\LedSection\\LedSection.js":"11"},{"size":500,"mtime":499162500000,"results":"12","hashOfConfig":"13"},{"size":2974,"mtime":1612096370564,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"13"},{"size":199,"mtime":1611070549549,"results":"16","hashOfConfig":"13"},{"size":582,"mtime":1611072179274,"results":"17","hashOfConfig":"13"},{"size":191,"mtime":1611070549558,"results":"18","hashOfConfig":"13"},{"size":171,"mtime":1611070549560,"results":"19","hashOfConfig":"13"},{"size":400,"mtime":1611070549556,"results":"20","hashOfConfig":"13"},{"size":488,"mtime":1611431183540,"results":"21","hashOfConfig":"13"},{"size":1044,"mtime":1611070549552,"results":"22","hashOfConfig":"13"},{"size":573,"mtime":1611431166501,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1xajhgd",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\index.js",[],["48","49"],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\App.js",["50","51"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"./axios-data\";\r\nimport Layout from \"./layout/Layout\";\r\nimport Keyboard from \"./components/Keyboard\";\r\nimport Modifier from \"./components/Modifier/Modifier\";\r\nimport LedSections from \"./components/LedSections/LedSections\";\r\nimport SerialPortBtn from \"./components/SerialPortBtn/SerialPortBtn\";\r\n\r\nconst App = () => {\r\n  const [lux, setLux] = useState(0);\r\n  const [zipPercent, setZipPercent] = useState(50);\r\n  const [serialPort, setSerialPort] = useState(null);\r\n  const [activeState, setActiveState] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let delay = 1100;\r\n    setInterval(() => {\r\n      delay = serialPort !== null ? 1100 : 500;\r\n      if (activeState) {\r\n        axios\r\n          .get(\"/leds.json\")\r\n          .then((res) => res.data)\r\n          .then(({ lux, percent }) => {\r\n            setLux(lux);\r\n            setZipPercent(percent);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    }, delay);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const newData = {\r\n      lux: lux + 1000,\r\n      percent: zipPercent + 100,\r\n    };\r\n    let delay = serialPort !== null ? 50 : 0;\r\n    setActiveState(false);\r\n    const timer = setTimeout(() => {\r\n      axios.put(\"/leds.json\", { lux, percent: zipPercent }).then((res) => {\r\n        if (serialPort !== null) writeToStream(newData);\r\n      });\r\n    }, delay);\r\n    setActiveState(true);\r\n    return () => clearTimeout(timer);\r\n  }, [zipPercent]);\r\n\r\n  async function getReader() {\r\n    const port = await navigator.serial.requestPort();\r\n    await port.open({ baudRate: 115200 });\r\n    setSerialPort(port);\r\n\r\n    // Recive\r\n    while (port.readable) {\r\n      const reader = port.readable.getReader();\r\n      try {\r\n        while (true) {\r\n          const { value, done } = await reader.read();\r\n          if (done) {\r\n            // |reader| has been canceled.\r\n            break;\r\n          }\r\n          const textDecoder = new TextDecoder(\"utf-8\").decode(value);\r\n          const jsonData = JSON.parse(textDecoder);\r\n          setLux(jsonData.lux);\r\n          setZipPercent(jsonData.percent);\r\n          axios.put(\"/leds.json\", jsonData);\r\n        }\r\n      } catch (error) {\r\n      } finally {\r\n        reader.releaseLock();\r\n      }\r\n    }\r\n    await port.close();\r\n  }\r\n\r\n  async function writeToStream(newData) {\r\n    const encoder = new TextEncoder();\r\n    const writer = serialPort.writable.getWriter();\r\n    await writer.write(encoder.encode(JSON.stringify(newData)));\r\n    writer.releaseLock();\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Keyboard keys={[\"up\", \"down\"]} onChangePercent={setZipPercent} />\r\n      <SerialPortBtn\r\n        onClickGetReader={getReader}\r\n        connectSerialPort={serialPort}\r\n      />\r\n      <Modifier percent={zipPercent} />\r\n      <LedSections\r\n        lux={lux}\r\n        percent={zipPercent}\r\n        onSetPercent={setZipPercent}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\reportWebVitals.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\axios-data.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\Keyboard.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\constant\\color.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\layout\\Layout.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\SerialPortBtn\\SerialPortBtn.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\Modifier\\Modifier.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\LedSections\\LedSections.js",[],"C:\\Users\\Lenovo\\Documents\\HTML CSS JavaScript\\REACT NodeJs NPM\\8. Embedded IT\\2-stm32_react_app\\src\\components\\LedSections\\LedSection\\LedSection.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":30,"column":6,"nodeType":"58","endLine":30,"endColumn":8,"suggestions":"59"},{"ruleId":"56","severity":1,"message":"60","line":46,"column":6,"nodeType":"58","endLine":46,"endColumn":18,"suggestions":"61"},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'activeState' and 'serialPort'. Either include them or remove the dependency array.","ArrayExpression",["64"],"React Hook useEffect has missing dependencies: 'lux', 'serialPort', and 'writeToStream'. Either include them or remove the dependency array.",["65"],"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},{"desc":"68","fix":"69"},"Update the dependencies array to be: [activeState, serialPort]",{"range":"70","text":"71"},"Update the dependencies array to be: [lux, serialPort, writeToStream, zipPercent]",{"range":"72","text":"73"},[1013,1015],"[activeState, serialPort]",[1477,1489],"[lux, serialPort, writeToStream, zipPercent]"]